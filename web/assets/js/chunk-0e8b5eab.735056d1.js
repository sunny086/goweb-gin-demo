(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e8b5eab"],{"414e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{height:"50px"}},[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.openAdd}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增 ")],1)],1),a("div",[a("a-table",{attrs:{columns:e.columns,"data-source":e.tableList,rowKey:"ID",pagination:e.pagination},on:{change:e.findUserList},scopedSlots:e._u([{key:"authorityId",fn:function(t,i){return e._l(e.authorityList,(function(t){return a("span",{key:t.ID},[t.authorityId===i.authorityId?a("span",[e._v(e._s(t.authorityName))]):e._e()])}))}},{key:"action",fn:function(t,i){return a("span",{},[a("a",{on:{click:function(t){return e.openEdit(i)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.openDelete(i)}}},[e._v("删除")])],1)}}])})],1),a("a-modal",{attrs:{title:"新增用户"},on:{ok:e.submitAdd},model:{value:e.addVisible,callback:function(t){e.addVisible=t},expression:"addVisible"}},[a("a-form",{attrs:{form:e.addForm,"label-col":{span:5},"wrapper-col":{span:12}}},[a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"用户名不能为空!"}]}],expression:"[ 'username', { rules: [{ required: true, message: '用户名不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"text",placeholder:"请输入用户名"}})],1),a("a-form-item",{attrs:{label:"昵称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"昵称不能为空!"}]}],expression:"[ 'nickname', { rules: [{ required: true, message: '昵称不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"text",placeholder:"请输入昵称"}})],1),a("a-form-item",{attrs:{label:"密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"密码不能为空!"}]}],expression:"[ 'password', { rules: [{ required: true, message: '密码不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"password",placeholder:"请输入密码"}})],1),a("a-form-item",{attrs:{label:"角色"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["authorityId",{rules:[{required:!0,message:"角色不能为空!"}]}],expression:"[ 'authorityId', { rules: [{ required: true, message: '角色不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{placeholder:"请输入角色"},on:{change:e.addAuthorityChange}},e._l(e.authorityList,(function(t){return a("a-select-option",{key:t.authorityId},[e._v(" "+e._s(t.authorityName)+" ")])})),1)],1)],1)],1),a("a-modal",{attrs:{title:"编辑用户"},on:{ok:e.submitEdit},model:{value:e.editVisible,callback:function(t){e.editVisible=t},expression:"editVisible"}},[a("a-form",{attrs:{form:e.editForm,"label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["ID"],expression:"['ID']"}],staticStyle:{width:"320px",display:"none"},attrs:{type:"text"}}),a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"用户名不能为空!"}]}],expression:"[ 'username', { rules: [{ required: true, message: '用户名不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"text",disabled:!0,placeholder:"请输入用户名"}})],1),a("a-form-item",{attrs:{label:"昵称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"昵称不能为空!"}]}],expression:"[ 'nickname', { rules: [{ required: true, message: '昵称不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"text",placeholder:"请输入昵称"}})],1),a("a-form-item",{attrs:{label:"密码"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"密码不能为空!"}]}],expression:"[ 'password', { rules: [{ required: true, message: '密码不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{type:"password",placeholder:"请输入密码"}})],1),a("a-form-item",{attrs:{label:"角色"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["authorityId",{rules:[{required:!0,message:"角色不能为空!"}]}],expression:"[ 'authorityId', { rules: [{ required: true, message: '角色不能为空!' }] }, ]"}],staticStyle:{width:"320px"},attrs:{placeholder:"请输入角色"},on:{change:e.editAuthorityChange}},e._l(e.authorityList,(function(t){return a("a-select-option",{key:t.authorityId},[e._v(" "+e._s(t.authorityName)+" ")])})),1)],1)],1)],1)],1)},r=[],s=a("7c15"),o={name:"UserManagement",data:function(){var e=this;return{columns:[{title:"用户名",dataIndex:"userName",key:"userName"},{title:"昵称",dataIndex:"nickName",key:"nickName"},{title:"角色",dataIndex:"authorityId",key:"authorityId",scopedSlots:{customRender:"authorityId"}},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],authorityList:[],tableList:[],pagination:{total:0,defaultCurrent:1,defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],onShowSizeChange:function(t,a){e.pagination.defaultCurrent=t,e.pagination.defaultPageSize=a},onChange:function(t,a){e.pagination.defaultCurrent=t,e.pagination.defaultPageSize=a}},page:1,pageSize:10,addVisible:!1,addForm:this.$form.createForm(this,{name:"addUser"}),addAuthorityIds:[],editVisible:!1,editData:"",editForm:this.$form.createForm(this,{name:"editUser"}),editAuthorityIds:[],oldPassword:""}},created:function(){this.findUserList(),this.findAuthorityList()},methods:{findUserList:function(){var e=this,t={};t.page=this.pagination.defaultCurrent,t.pageSize=this.pagination.defaultPageSize,this.$axios.post(s["a"].GET_USER_LIST.url,t).then((function(t){0===t.data.code?(e.tableList=t.data.data.list,e.pagination.total=t.data.data.total):(e.$message.error(t.data.msg),e.pagination.total=0)}))},findAuthorityList:function(){var e=this,t={page:1,pageSize:9999};this.$axios.post(s["a"].GET_AUTHORITY_LIST.url,t).then((function(t){0===t.data.code?e.authorityList=t.data.data.list:e.$message.error(t.data.msg)}))},openAdd:function(){this.addForm.resetFields(),this.addVisible=!0},addAuthorityChange:function(e){this.addAuthorityIds=[e]},submitAdd:function(e){var t=this;e.preventDefault(),this.addForm.validateFields((function(e,a){a.authorityIds=t.addAuthorityIds,e||t.$axios.post(s["a"].ADD_USER.url,a).then((function(e){0===e.data.code?(t.$message.success("新增成功！"),t.addForm.resetFields(),t.addVisible=!1,t.findUserList()):t.$message.error(e.data.msg)}))}))},openEdit:function(e){var t=this;this.editForm.resetFields(),this.editVisible=!0,this.editData=e,this.oldPassword=e.password,this.$nextTick((function(){t.editForm.setFieldsValue({ID:e.ID,username:e.userName,nickname:e.nickName,password:e.password,authorityId:e.authorityId})})),this.editAuthorityIds=[e.authorityId]},editAuthorityChange:function(e){this.editAuthorityIds=[e]},submitEdit:function(e){var t=this;e.preventDefault(),this.editForm.validateFields((function(e,a){a.ID=t.editData.ID,a.authorityIds=t.editAuthorityIds,t.oldPassword===a.password&&(a.password=null),e||t.$axios.put(s["a"].EDIT_USER.url,a).then((function(e){0===e.data.code?(t.$message.success("编辑成功！"),t.editForm.resetFields(),t.editVisible=!1,t.findUserList()):t.$message.error(e.data.msg)}))}))},openDelete:function(e){var t=this;this.$confirm({title:"提示信息：",content:"确定删除数据？",onOk:function(){return t.submitDelete(e)}})},submitDelete:function(e){var t=this;this.$axios.delete(s["a"].DELETE_USER.url,{data:{ID:e.ID}}).then((function(e){0===e.data.code?t.$message.success("删除成功！"):t.$message.error(e.data.msg),t.findUserList()}))}}},d=o,n=a("2877"),u=Object(n["a"])(d,i,r,!1,null,"2a59620e",null);t["default"]=u.exports},"7c15":function(e,t,a){"use strict";var i={url:"/base/captcha",deacriptions:"获取验证码"},r={url:"/base/login",deacriptions:"登录"},s={url:"/menu/getMenu",deacriptions:"获取动态路由"},o={url:"/user/changePassword",deacriptions:"重置密码"},d={url:"/user/getUserList",deacriptions:"分页获取用户列表"},n={url:"/authority/getAuthorityList",deacriptions:"获取角色列表"},u={url:"/user/deleteUser",deacriptions:"删除用户"},l={url:"/user/register",deacriptions:"新增用户"},c={url:"/user/setUserInfo",deacriptions:"编辑用户"},p={url:"/fileUploadAndDownload/upload",deacriptions:"文件上传"},m={url:"/fileUploadAndDownload/deleteFile",deacriptions:"文件删除"},h={url:"/fileUploadAndDownload/download",deacriptions:"文件下载"},f={url:"/wtTemplates/getWtTemplateList",deacriptions:"获取模板"},g={url:"/wtTemplates/createWtTemplate",deacriptions:"新建模板"},y={url:"/wtTemplates/updateWtTemplate",deacriptions:"编辑模板"},I={url:"/wtReports/createWtReports",deacriptions:"创建周报"},w={url:"/wtReports/getWtReportsList",deacriptions:"分页查询周报"},E={url:"/wtReports/updateWtReports",deacriptions:"更新周报"},_={url:"/wtReports/findWtReports",deacriptions:"根据id查询周报"},v={url:"/wtComment/getWtCommentList",deacriptions:"获取周报评论"},D={url:"/wtComment/createWtComment",deacriptions:"创建周报评论"},T={url:"/wtRule/createWtRule",deacriptions:"创建规则"},L={url:"/wtRule/updateWtRule",deacriptions:"编辑规则"},S={url:"/wtRule/getWtRuleList",deacriptions:" 查询规则"},b={url:"/wtOutput/GetStatResult",deacriptions:" 查询统计结果"},R={url:"/wtOutput/ExportReportToExcel",deacriptions:" 导出报表"};t["a"]={GET_CAPTCHA:i,LOGIN:r,GET_MENU:s,CHANGE_PASSWORD:o,GET_USER_LIST:d,GET_AUTHORITY_LIST:n,DELETE_USER:u,ADD_USER:l,EDIT_USER:c,UPLOAD_FILE:p,DELETE_FILE:m,DOWNLOAD_FILE:h,GET_TEMPLATE_LIST:f,ADD_TEMPLATE:g,EDIT_TEMPLATE:y,ADD_REPORT:I,FIND_REPORT_LIST:w,EDIT_REPORT:E,FIND_REPORT_BY_ID:_,FIND_COMMENT_LIST:v,ADD_COMMENT:D,ADD_RULE:T,UPDATE_RULE:L,FIND_RULE_LIST:S,FIND_RESULT:b,EXPORT_FILE:R}}}]);
//# sourceMappingURL=chunk-0e8b5eab.735056d1.js.map