{"version":3,"sources":["webpack:///./src/components/main/WriteWeeklyReport.vue?33d2","webpack:///src/components/main/WriteWeeklyReport.vue","webpack:///./src/components/main/WriteWeeklyReport.vue?ee3a","webpack:///./src/components/main/WriteWeeklyReport.vue","webpack:///./src/components/main/WriteWeeklyReport.vue?94db"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","_v","_s","template","header","_l","item","index","key","title","ref","refInFor","attrs","on","$event","onEditorBlur","onEditorFocus","onEditorChange","model","value","callback","$$v","$set","expression","fileList","xToken","xUserId","removeFile","handlePreview","handleChange","length","_e","previewVisible","handleCancel","previewImage","fileList2","handleChange2","_m","class","sendToClass","userChange","sends","li","ID","userName","addReports","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-c731a980.54be1077.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"50px 0\"}},[_c('div',{staticClass:\"header_write\"},[_vm._v(_vm._s(_vm.template.header))]),_vm._l((_vm.template.contents),function(item,index){return _c('div',{key:index},[_c('div',{staticStyle:{\"font-weight\":\"600\"}},[_vm._v(_vm._s(item.title)+\"：\")]),_c('quill-editor',{ref:index,refInFor:true,staticStyle:{\"margin-top\":\"20px\"},attrs:{\"id\":index},on:{\"blur\":function($event){return _vm.onEditorBlur($event, index)},\"focus\":function($event){return _vm.onEditorFocus($event, index)},\"change\":function($event){return _vm.onEditorChange($event)}},model:{value:(item.content),callback:function ($$v) {_vm.$set(item, \"content\", $$v)},expression:\"item.content\"}})],1)}),_c('div',{staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"图片上传\")]),_c('div',[_c('div',{staticClass:\"clearfix\"},[_c('a-upload',{attrs:{\"action\":\"/week/fileUploadAndDownload/upload\",\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"accept\":\".png,.jpeg,.jpg\",\"headers\":{ 'x-token': _vm.xToken, 'x-user-id':  _vm.xUserId},\"remove\":_vm.removeFile},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 8)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\" Upload \")])],1):_vm._e()]),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1)]),_c('div',{staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"文件上传\")]),_c('div',[_c('div',{staticClass:\"clearfix\"},[_c('a-upload',{attrs:{\"action\":\"/week/fileUploadAndDownload/upload\",\"file-list\":_vm.fileList2,\"headers\":{ 'x-token': _vm.xToken, 'x-user-id':  _vm.xUserId},\"remove\":_vm.removeFile},on:{\"change\":_vm.handleChange2}},[_c('div',[_c('a-button',[_c('a-icon',{attrs:{\"type\":\"upload\"}}),_vm._v(\" Upload \")],1)],1)])],1)]),_vm._m(0),_c('a-select',{class:_vm.sendToClass,staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"multiple\",\"placeholder\":\"请选择人员\"},on:{\"change\":_vm.userChange},model:{value:(_vm.sends),callback:function ($$v) {_vm.sends=$$v},expression:\"sends\"}},_vm._l((_vm.userList),function(li){return _c('a-select-option',{key:li.ID},[_vm._v(\" \"+_vm._s(li.userName)+\" \")])}),1),(_vm.sendToClass === 'cannotSubmit')?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"请选择人员\")]):_vm._e(),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a-button',{staticStyle:{\"width\":\"400px\",\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addReports}},[_vm._v(\" 提交 \")])],1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"font-weight\":\"600\",\"margin\":\"20px 0 0 0\"}},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"发送给\")])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"margin: 50px 0;\">\r\n        <div class=\"header_write\">{{template.header}}</div>\r\n<!--        模板内容-->\r\n        <div v-for=\"(item, index) in template.contents\" :key=\"index\">\r\n            <div style=\"font-weight: 600;\">{{item.title}}：</div>\r\n            <quill-editor\r\n                    :id=\"index\"\r\n                    style=\"margin-top: 20px\"\r\n                    v-model=\"item.content\"\r\n                    :ref=\"index\"\r\n                    @blur=\"onEditorBlur($event, index)\" @focus=\"onEditorFocus($event, index)\"\r\n                    @change=\"onEditorChange($event)\">\r\n            </quill-editor>\r\n        </div>\r\n\r\n        <div style=\"font-weight: 600;\">图片上传</div>\r\n        <div>\r\n            <div class=\"clearfix\">\r\n                <a-upload\r\n                        action=\"/week/fileUploadAndDownload/upload\"\r\n                        list-type=\"picture-card\"\r\n                        :file-list=\"fileList\"\r\n                        @preview=\"handlePreview\"\r\n                        @change=\"handleChange\"\r\n                        accept=\".png,.jpeg,.jpg\"\r\n                        :headers=\"{ 'x-token': xToken, 'x-user-id':  xUserId}\"\r\n                        :remove=\"removeFile\"\r\n                >\r\n                    <div v-if=\"fileList.length < 8\">\r\n                        <a-icon type=\"plus\" />\r\n                        <div class=\"ant-upload-text\">\r\n                            Upload\r\n                        </div>\r\n                    </div>\r\n                </a-upload>\r\n                <a-modal :visible=\"previewVisible\" :footer=\"null\" @cancel=\"handleCancel\">\r\n                    <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\" />\r\n                </a-modal>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"font-weight: 600;\">文件上传</div>\r\n        <div>\r\n            <div class=\"clearfix\">\r\n                <a-upload\r\n                        action=\"/week/fileUploadAndDownload/upload\"\r\n                        :file-list=\"fileList2\"\r\n                        @change=\"handleChange2\"\r\n                        :headers=\"{ 'x-token': xToken, 'x-user-id':  xUserId}\"\r\n                        :remove=\"removeFile\"\r\n                >\r\n                    <div>\r\n                        <a-button> <a-icon type=\"upload\" /> Upload </a-button>\r\n                    </div>\r\n                </a-upload>\r\n            </div>\r\n        </div>\r\n\r\n        <div style=\"font-weight: 600; margin: 20px 0 0 0\"><span style=\"color: red\">*</span>发送给</div>\r\n        <a-select\r\n                mode=\"multiple\"\r\n                style=\"width: 100%\"\r\n                placeholder=\"请选择人员\"\r\n                @change=\"userChange\"\r\n                v-model=\"sends\"\r\n                :class=\"sendToClass\"\r\n        >\r\n            <a-select-option v-for=\"li in userList\" :key=\"li.ID\">\r\n                {{li.userName}}\r\n            </a-select-option>\r\n        </a-select>\r\n        <span style=\"color: red\" v-if=\"sendToClass === 'cannotSubmit'\">请选择人员</span>\r\n\r\n        <div style=\"text-align: center\">\r\n            <a-button type=\"primary\" style=\"width: 400px; margin-top: 20px\" @click=\"addReports\"> 提交 </a-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import api from '../../utils/api'\r\n    import { quillEditor } from \"vue-quill-editor\";\r\n    import 'quill/dist/quill.core.css';\r\n    import 'quill/dist/quill.snow.css';\r\n    import 'quill/dist/quill.bubble.css';\r\n\r\n    function getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n    export default {\r\n        name: \"WriteWeeklyReport\",\r\n        components: {quillEditor},\r\n        data() {\r\n            return {\r\n                // 图片上传\r\n                fileList: [],\r\n                previewVisible: false,\r\n                previewImage: '',\r\n                xToken: sessionStorage.getItem('login'),\r\n                xUserId: sessionStorage.getItem('userId'),\r\n                pictures: [],\r\n                // 文件上传\r\n                fileList2: [],\r\n                // 周报模板\r\n                template: {},\r\n                // 人员列表\r\n                userList: [],\r\n                sends: [],\r\n                attachments: [],\r\n                sendToClass: 'canSubmit',\r\n                // 发送到(选中人员列表)\r\n                sendTo: [],\r\n            };\r\n        },\r\n        created() {\r\n            // 查询模板\r\n            this.findTempl();\r\n            // 查询人员列表\r\n            this.findUserList();\r\n        },\r\n        methods: {\r\n            // 图片上传\r\n            handleCancel() {\r\n                this.previewVisible = false;\r\n            },\r\n            async handlePreview(file) {\r\n                if (!file.url && !file.preview) {\r\n                    file.preview = await getBase64(file.originFileObj);\r\n                }\r\n                this.previewImage = file.url || file.preview;\r\n                this.previewVisible = true;\r\n            },\r\n            handleChange({ fileList }) {\r\n                this.fileList = fileList;\r\n            },\r\n            // 文件上传\r\n            handleChange2({ fileList }) {\r\n                this.fileList2 = fileList;\r\n            },\r\n            // 删除文件\r\n            removeFile(file) {\r\n                const params = {};\r\n                params.key = file.response.data.file.key;\r\n\r\n                const files = [];\r\n                for (const li of this.fileList) {\r\n                    if (li.response.data.file.key !== params.key) {\r\n                        files.push(li);\r\n                    }\r\n                }\r\n                this.fileList = files;\r\n\r\n                const files2 = [];\r\n                for (const li of this.fileList2) {\r\n                    if (li.response.data.file.key !== params.key) {\r\n                        files2.push(li);\r\n                    }\r\n                }\r\n                this.fileList2 = files2;\r\n\r\n                this.$axios.post(api.DELETE_FILE.url, params).then(res => {\r\n                    if (res.data.code === 0) {\r\n                        this.$message.success(res.data.msg);\r\n                    } else {\r\n                        this.$message.error(res.data.msg);\r\n                    }\r\n                });\r\n            },\r\n            // 查询模板\r\n            findTempl() {\r\n                this.$axios.get(api.GET_TEMPLATE_LIST.url).then(res => {\r\n                    if (res.data.code === 0) {\r\n                        if (res.data.data.total > 0) {\r\n                            this.template = res.data.data.list[0];\r\n                        } else {\r\n                            this.$message.error('请先创建周报模板');\r\n                        }\r\n                    } else {\r\n                        this.$message.error(res.data.msg);\r\n                    }\r\n                });\r\n            },\r\n            // 失去焦点事件\r\n            onEditorBlur(event, id){\r\n                document.getElementById(id).children[0].style.zIndex = '1';\r\n\r\n            },\r\n            // 获得焦点事件\r\n            onEditorFocus(event, id){\r\n                document.getElementById(id).children[0].style.zIndex = '2';\r\n            },\r\n            // 内容改变事件\r\n            onEditorChange(){\r\n                // console.log(this.template.contents);\r\n            },\r\n            // 查询人员列表\r\n            findUserList() {\r\n                const params = {};\r\n                params.page = 1;\r\n                params.pageSize = 99999;\r\n                this.$axios.post(api.GET_USER_LIST.url, params).then(res => {\r\n                    if (res.data.code === 0) {\r\n                        this.userList = res.data.data.list;\r\n                    } else {\r\n                        this.$message.error(res.data.msg);\r\n                    }\r\n                })\r\n            },\r\n            userChange(select) {\r\n                const temp = [];\r\n                if (select.length > 0) {\r\n                    for (const li of this.userList) {\r\n                        for (const id of select) {\r\n                            if (li.ID === id) {\r\n                                const data = {};\r\n                                data.id = id;\r\n                                data.name = li.userName;\r\n                                temp.push(data);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.sendTo = temp;\r\n                if (this.sendTo.length > 0) {\r\n                    this.sendToClass = 'canSubmit';\r\n                }\r\n            },\r\n            addReports() {\r\n                const pic = [];\r\n                if (this.fileList.length > 0) {\r\n                    for (const li of this.fileList) {\r\n                        const da = {};\r\n                        da.key = li.response.data.file.key;\r\n                        da.name = li.response.data.file.name;\r\n                        pic.push(da);\r\n                    }\r\n                }\r\n                this.pictures = pic;\r\n\r\n                const atta = [];\r\n                if (this.fileList2.length > 0) {\r\n                    for (const li of this.fileList2) {\r\n                        const da = {};\r\n                        da.key = li.response.data.file.key;\r\n                        da.name = li.response.data.file.name;\r\n                        atta.push(da);\r\n                    }\r\n                }\r\n                this.attachments = atta;\r\n\r\n                if (this.sendTo.length === 0) {\r\n                    this.sendToClass = 'cannotSubmit';\r\n                } else {\r\n                    const params = {};\r\n                    params.userId = Number(sessionStorage.getItem('userId'));\r\n                    params.userName = sessionStorage.getItem('userName');\r\n                    params.sendTo = this.sendTo;\r\n                    params.pictures = this.pictures;\r\n                    params.attachments = this.attachments;\r\n                    params.header = this.template.header;\r\n                    params.contents = this.template.contents;\r\n                    this.$axios.post(api.ADD_REPORT.url, params).then(res => {\r\n                        if (res.data.code === 0) {\r\n                            this.$message.success(res.data.msg);\r\n                            this.findTempl();\r\n                            this.findTempl();\r\n                            this.fileList = [];\r\n                            this.previewVisible = false;\r\n                            this.previewImage = '';\r\n                            this.pictures = [];\r\n                            this.fileList2 = [];\r\n                            this.template = {};\r\n                            this.userList = [];\r\n                            this.attachments = [];\r\n                            this.sendTo = [];\r\n                            this.sends = [];\r\n                        } else {\r\n                            this.$message.error(res.data.msg);\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            editor() {\r\n                return this.$refs.myQuillEditor.quill;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style xml:lang=\"less\">\r\n    .ql-toolbar {\r\n        position: fixed;\r\n        top: 104px;\r\n        background-color: white;\r\n        width: calc(100% - 270px);\r\n        left: 260px;\r\n        border-radius: 4px;\r\n        box-shadow: 1px 2px 1px 1px rgba(144,144,144,0.1);\r\n    }\r\n    .quill-editor {\r\n        border: 1px solid #ccc;\r\n        margin: 20px 0;\r\n    }\r\n    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {\r\n        z-index: 3;\r\n        top: 33px;\r\n    }\r\n    .ql-snow .ql-tooltip {\r\n        left: 0!important;\r\n    }\r\n    .header_write {\r\n        text-align: center;\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n    }\r\n    .canSubmit > div {\r\n        border-color: #d9d9d9;\r\n    }\r\n    .cannotSubmit > div {\r\n        border-color: red;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WriteWeeklyReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WriteWeeklyReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WriteWeeklyReport.vue?vue&type=template&id=bbe71d14&\"\nimport script from \"./WriteWeeklyReport.vue?vue&type=script&lang=js&\"\nexport * from \"./WriteWeeklyReport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WriteWeeklyReport.vue?vue&type=style&index=0&xml%3Alang=less&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WriteWeeklyReport.vue?vue&type=style&index=0&xml%3Alang=less&lang=css&\""],"sourceRoot":""}